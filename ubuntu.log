UBUNTU ROCKCHIP:

ubuntu@ubuntu:~$ uname -a
Linux ubuntu 6.1.0-1027-rockchip #27 SMP Sun Sep 14 14:59:25 EEST 2025 aarch64 aarch64 aarch64 GNU/Linux
ubuntu@ubuntu:~$ sudo cat /etc/default/u-boot
## /etc/default/u-boot - configuration file for u-boot-update(8)

#U_BOOT_UPDATE="true"

#U_BOOT_ALTERNATIVES="default recovery"
#U_BOOT_DEFAULT="l0"
#U_BOOT_PROMPT="1"
#U_BOOT_ENTRIES="all"
#U_BOOT_MENU_LABEL="Debian GNU/Linux"
#U_BOOT_PARAMETERS="ro earlycon"
#U_BOOT_ROOT=""
#U_BOOT_TIMEOUT="50"
#U_BOOT_FDT=""
#U_BOOT_FDT_DIR="/lib/firmware/"
U_BOOT_FDT_OVERLAYS="device-tree/rockchip/overlay/orangepi-5-max-cam0.dtbo"
#U_BOOT_FDT_OVERLAYS_DIR="/lib/firmware/"
#U_BOOT_SYNC_DTBS="false"
ubuntu@ubuntu:~$ dtc -I dtb -O dts /lib/firmware/6.1.0-1027-rockchip/device-tree/rockchip/overlay/orangepi-5-max-cam0.dtbo
<stdout>: Warning (unit_address_vs_reg): /fragment@6/__overlay__/vm149c-p0@c: node has a unit name, but no reg or ranges property
<stdout>: Warning (unit_address_vs_reg): /fragment@6/__overlay__/ov13850-0@10: node has a unit name, but no reg or ranges property
<stdout>: Warning (unit_address_vs_reg): /fragment@6/__overlay__/dw9714-p0@c: node has a unit name, but no reg or ranges property
<stdout>: Warning (unit_address_vs_reg): /fragment@6/__overlay__/ov13855-0@36: node has a unit name, but no reg or ranges property
<stdout>: Warning (unit_address_vs_reg): /fragment@6/__overlay__/imx415-0@1a: node has a unit name, but no reg or ranges property
/dts-v1/;

/ {

        fragment@0 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@1 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@2 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@3 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@4 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@5 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@6 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";

                        vm149c-p0@c {
                                status = "okay";
                        };

                        ov13850-0@10 {
                                status = "okay";
                        };

                        dw9714-p0@c {
                                status = "okay";
                        };

                        ov13855-0@36 {
                                status = "okay";
                        };

                        imx415-0@1a {
                                status = "okay";
                        };
                };
        };

        fragment@7 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@8 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@9 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        fragment@10 {
                target = <0xffffffff>;

                __overlay__ {
                        status = "okay";
                };
        };

        __fixups__ {
                csi2_dphy0_hw = "/fragment@0:target:0";
                csi2_dphy0 = "/fragment@1:target:0";
                mipi2_csi2 = "/fragment@2:target:0";
                rkcif_mipi_lvds2 = "/fragment@3:target:0";
                rkcif_mipi_lvds2_sditf = "/fragment@4:target:0";
                rkisp0_vir2 = "/fragment@5:target:0";
                i2c6 = "/fragment@6:target:0";
                rkcif = "/fragment@7:target:0";
                rkcif_mmu = "/fragment@8:target:0";
                rkisp0 = "/fragment@9:target:0";
                isp0_mmu = "/fragment@10:target:0";
        };
};
ubuntu@ubuntu:~$ dmesg | grep ov13855
[   23.487262] ov13855 6-0036: driver version: 00.01.04
[   23.487694] ov13855 6-0036: Failed to get power-gpios, maybe no use
[   23.488123] ov13855 6-0036: Looking up avdd-supply from device tree
[   23.488127] ov13855 6-0036: Looking up avdd-supply property in node /i2c@fec80000/ov13855-0@36 failed
[   23.488138] ov13855 6-0036: supply avdd not found, using dummy regulator
[   23.488586] ov13855 6-0036: Looking up dovdd-supply from device tree
[   23.488590] ov13855 6-0036: Looking up dovdd-supply property in node /i2c@fec80000/ov13855-0@36 failed
[   23.488597] ov13855 6-0036: supply dovdd not found, using dummy regulator
[   23.489025] ov13855 6-0036: Looking up dvdd-supply from device tree
[   23.489029] ov13855 6-0036: Looking up dvdd-supply property in node /i2c@fec80000/ov13855-0@36 failed
[   23.489036] ov13855 6-0036: supply dvdd not found, using dummy regulator
[   23.489464] ov13855 6-0036: could not get default pinstate
[   23.489877] ov13855 6-0036: could not get sleep pinstate
[   23.499683] ov13855 6-0036: Detected OV00d855 sensor, REVISION 0xb0
[   23.530266] ov13855 6-0036: Consider updating driver ov13855 to match on endpoints
[   23.531590] rockchip-csi2-dphy csi2-dphy0: dphy0 matches m00_b_ov13855 6-0036:bus type 5
ubuntu@ubuntu:~$ v4l2-ctl --list-devices
rkisp-statistics (platform: rkisp):
	/dev/video18
	/dev/video19

rkcif (platform:rkcif-mipi-lvds2):
	/dev/video0
	/dev/video1
	/dev/video2
	/dev/video3
	/dev/video4
	/dev/video5
	/dev/video6
	/dev/video7
	/dev/video8
	/dev/video9
	/dev/video10
	/dev/media0

rkisp_mainpath (platform:rkisp0-vir2):
	/dev/video11
	/dev/video12
	/dev/video13
	/dev/video14
	/dev/video15
	/dev/video16
	/dev/video17
	/dev/media1

ubuntu@ubuntu:~$ v4l2-ctl -d11 --all
Driver Info:
	Driver name      : rkisp_v6
	Card type        : rkisp_mainpath
	Bus info         : platform:rkisp0-vir2
	Driver version   : 2.6.0
	Capabilities     : 0x84201000
		Video Capture Multiplanar
		Streaming
		Extended Pix Format
		Device Capabilities
	Device Caps      : 0x04201000
		Video Capture Multiplanar
		Streaming
		Extended Pix Format
Media Driver Info:
	Driver name      : rkisp0-vir2
	Model            : rkisp0
	Serial           :
	Bus info         : platform:rkisp0-vir2
	Media version    : 6.1.75
	Hardware revision: 0x00000000 (0)
	Driver version   : 6.1.75
Interface Info:
	ID               : 0x03000007
	Type             : V4L Video
Entity Info:
	ID               : 0x00000006 (6)
	Name             : rkisp_mainpath
	Function         : V4L2 I/O
	Pad 0x01000009   : 0: Sink
	  Link 0x0200000a: from remote pad 0x1000004 of entity 'rkisp-isp-subdev' (Unknown V4L2 Sub-Device): Data, Enabled
Priority: 2
Format Video Capture Multiplanar:
	Width/Height      : 3840/2160
	Pixel Format      : 'NV12' (Y/UV 4:2:0)
	Field             : None
	Number of planes  : 1
	Flags             :
	Colorspace        : Default
	Transfer Function : Default
	YCbCr/HSV Encoding: Default
	Quantization      : Full Range
	Plane 0           :
	   Bytes per Line : 3840
	   Size Image     : 12441600
Selection Video Capture: crop, Left 0, Top 0, Width 3840, Height 2160, Flags:
Selection Video Capture: crop_bounds, Left 0, Top 0, Width 3840, Height 2160, Flags:
Selection Video Output: crop, Left 0, Top 0, Width 3840, Height 2160, Flags:
Selection Video Output: crop_bounds, Left 0, Top 0, Width 3840, Height 2160, Flags:

Image Processing Controls

                     pixel_rate 0x009f0902 (int64)  : min=0 max=1000000000 step=1 default=1000000000 value=356800000 flags=read-only, volatile
ubuntu@ubuntu:~$ dmesg | grep rkcif
[    5.474152] platform rkcif-mipi-lvds2: Fixed dependency cycle(s) with /mipi2-csi2/ports/port@1/endpoint@0
[    5.474292] platform rkisp0-vir2: Fixed dependency cycle(s) with /rkcif-mipi-lvds2-sditf/port/endpoint
[   23.125297] rkcifhw fdce0000.rkcif: Adding to iommu group 16
[   23.128030] rkcifhw fdce0000.rkcif: No reserved memory region assign to CIF
[   23.129338] rkcif rkcif-mipi-lvds2: Adding to iommu group 16
[   23.130506] rkcif rkcif-mipi-lvds2: rkcif driver version: v00.02.00
[   23.131716] rkcif rkcif-mipi-lvds2: attach to cif hw node
[   23.132858] rkcif rkcif-mipi-lvds2: rkcif wait line 0
[   23.133978] rkcif rkcif-mipi-lvds2: rkcif fastboot reserve bufs num 3
[   23.140601] : rkcif_update_sensor_info: stream[0] get remote sensor_sd failed!
[   23.141686] : rkcif_scale_set_fmt: req(40, 30) src out(0, 0)
[   23.143867] : rkcif_update_sensor_info: stream[0] get remote sensor_sd failed!
[   23.144957] : rkcif_scale_set_fmt: req(40, 30) src out(0, 0)
[   23.147130] : rkcif_update_sensor_info: stream[0] get remote sensor_sd failed!
[   23.148220] : rkcif_scale_set_fmt: req(40, 30) src out(0, 0)
[   23.150400] : rkcif_update_sensor_info: stream[0] get remote sensor_sd failed!
[   23.151505] : rkcif_scale_set_fmt: req(40, 30) src out(0, 0)
[   23.153905] rkcif rkcif-mipi-lvds2: No memory-region-thunderboot specified
[   23.171763] rkcif rkcif-mipi-lvds2: Entity type for entity rockchip-mipi-csi2 was not initialized!
[   23.173956] rockchip-mipi-csi2: probe success, v4l2_dev:rkcif-mipi-lvds2!
[   23.618811] rkcif rkcif-mipi-lvds2: clear unready subdev num: 3
[   23.619183] rkcif-mipi-lvds2: Async subdev notifier completed
ubuntu@ubuntu:~$ dmesg | grep rkisp
[    5.474292] platform rkisp0-vir2: Fixed dependency cycle(s) with /rkcif-mipi-lvds2-sditf/port/endpoint
[   23.176286] rkisp_hw fdcb0000.rkisp: Adding to iommu group 15
[   23.177525] rkisp_hw fdcb0000.rkisp: is_thunderboot: 0
[   23.178608] rkisp_hw fdcb0000.rkisp: Missing rockchip,grf property
[   23.179708] rkisp_hw fdcb0000.rkisp: max input:0x0@0fps
[   23.180920] rkisp_hw fdcb0000.rkisp: no find phandle sram
[   23.182298] rkisp rkisp0-vir2: rkisp driver version: v02.06.00
[   23.183456] rkisp rkisp0-vir2: No memory-region-thunderboot specified
[   23.184630] rkisp rkisp0-vir2: Entity type for entity rkisp-isp-subdev was not initialized!
[   23.619375] rkisp0-vir2: Async subdev notifier completed
[   23.658925] rkisp rkisp0-vir2: clear unready subdev num: 0
[   25.301395] rkisp rkisp0-vir2: first params buf queue
ubuntu@ubuntu:~$ media-ctl -p -d /dev/media0
Media controller API version 6.1.75

Media device information
------------------------
driver          rkcif
model           rkcif-mipi-lvds2
serial
bus info        platform:rkcif-mipi-lvds2
hw revision     0x0
driver version  6.1.75

Device topology
- entity 1: stream_cif_mipi_id0 (1 pad, 11 links)
            type Node subtype V4L flags 0
            device node name /dev/video0
	pad0: Sink
		<- "rockchip-mipi-csi2":1 [ENABLED]
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 5: stream_cif_mipi_id1 (1 pad, 11 links)
            type Node subtype V4L flags 0
            device node name /dev/video1
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 [ENABLED]
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 9: stream_cif_mipi_id2 (1 pad, 11 links)
            type Node subtype V4L flags 0
            device node name /dev/video2
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 [ENABLED]
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 13: stream_cif_mipi_id3 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video3
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 [ENABLED]
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 17: rkcif_scale_ch0 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video4
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 [ENABLED]
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 21: rkcif_scale_ch1 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video5
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 [ENABLED]
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 25: rkcif_scale_ch2 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video6
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 [ENABLED]
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 29: rkcif_scale_ch3 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video7
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 [ENABLED]
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 33: rkcif_tools_id0 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video8
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 [ENABLED]
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 []

- entity 37: rkcif_tools_id1 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video9
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 [ENABLED]
		<- "rockchip-mipi-csi2":11 []

- entity 41: rkcif_tools_id2 (1 pad, 11 links)
             type Node subtype V4L flags 0
             device node name /dev/video10
	pad0: Sink
		<- "rockchip-mipi-csi2":1 []
		<- "rockchip-mipi-csi2":2 []
		<- "rockchip-mipi-csi2":3 []
		<- "rockchip-mipi-csi2":4 []
		<- "rockchip-mipi-csi2":5 []
		<- "rockchip-mipi-csi2":6 []
		<- "rockchip-mipi-csi2":7 []
		<- "rockchip-mipi-csi2":8 []
		<- "rockchip-mipi-csi2":9 []
		<- "rockchip-mipi-csi2":10 []
		<- "rockchip-mipi-csi2":11 [ENABLED]

- entity 45: rockchip-mipi-csi2 (12 pads, 122 links, 0 routes)
             type V4L2 subdev subtype Unknown flags 0
             device node name /dev/v4l-subdev0
	pad0: Sink
		[stream:0 fmt:SBGGR10_1X10/4224x3136 field:none
		 crop.bounds:(0,0)/4224x3136
		 crop:(0,0)/4224x3136]
		<- "rockchip-csi2-dphy0":1 [ENABLED]
	pad1: Source
		-> "stream_cif_mipi_id0":0 [ENABLED]
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad2: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 [ENABLED]
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad3: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 [ENABLED]
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad4: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 [ENABLED]
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad5: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 [ENABLED]
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad6: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 [ENABLED]
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad7: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 [ENABLED]
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad8: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 [ENABLED]
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad9: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 [ENABLED]
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 []
	pad10: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 [ENABLED]
		-> "rkcif_tools_id2":0 []
	pad11: Source
		-> "stream_cif_mipi_id0":0 []
		-> "stream_cif_mipi_id1":0 []
		-> "stream_cif_mipi_id2":0 []
		-> "stream_cif_mipi_id3":0 []
		-> "rkcif_scale_ch0":0 []
		-> "rkcif_scale_ch1":0 []
		-> "rkcif_scale_ch2":0 []
		-> "rkcif_scale_ch3":0 []
		-> "rkcif_tools_id0":0 []
		-> "rkcif_tools_id1":0 []
		-> "rkcif_tools_id2":0 [ENABLED]

- entity 58: rockchip-csi2-dphy0 (2 pads, 2 links, 0 routes)
             type V4L2 subdev subtype Unknown flags 0
             device node name /dev/v4l-subdev1
	pad0: Sink
		[stream:0 fmt:SBGGR10_1X10/4224x3136@10000/300000 field:none
		 crop.bounds:(0,0)/4224x3136]
		<- "m00_b_ov13855 6-0036":0 [ENABLED]
	pad1: Source
		-> "rockchip-mipi-csi2":0 [ENABLED]

- entity 63: m00_b_ov13855 6-0036 (1 pad, 1 link, 0 routes)
             type V4L2 subdev subtype Sensor flags 0
             device node name /dev/v4l-subdev2
	pad0: Source
		[stream:0 fmt:SBGGR10_1X10/4224x3136@10000/300000 field:none
		 crop.bounds:(0,0)/4224x3136]
		-> "rockchip-csi2-dphy0":0 [ENABLED]

ubuntu@ubuntu:~$
ubuntu@ubuntu:~$ media-ctl -p -d /dev/media1
Media controller API version 6.1.75

Media device information
------------------------
driver          rkisp0-vir2
model           rkisp0
serial
bus info        platform:rkisp0-vir2
hw revision     0x0
driver version  6.1.75

Device topology
- entity 1: rkisp-isp-subdev (4 pads, 10 links, 0 routes)
            type V4L2 subdev subtype Unknown flags 0
            device node name /dev/v4l-subdev3
	pad0: Sink
		[stream:0 fmt:SBGGR10_1X10/4224x3136 field:none
		 crop.bounds:(0,0)/4224x3136
		 crop:(0,0)/4224x3136]
		<- "rkisp_rawrd0_m":0 []
		<- "rkisp_rawrd2_s":0 []
		<- "rkisp_rawrd1_l":0 []
		<- "rkcif-mipi-lvds2":0 [ENABLED]
	pad1: Sink
		<- "rkisp-input-params":0 [ENABLED]
	pad2: Source
		[stream:0 fmt:YUYV8_2X8/4224x3136 field:none colorspace:smpte170m quantization:full-range
		 crop.bounds:(0,0)/4224x3136
		 crop:(0,0)/4224x3136]
		-> "rkisp_mainpath":0 [ENABLED]
		-> "rkisp_selfpath":0 [ENABLED]
		-> "rkisp_fbcpath":0 [ENABLED]
		-> "rkisp_iqtool":0 [ENABLED]
	pad3: Source
		-> "rkisp-statistics":0 [ENABLED]

- entity 6: rkisp_mainpath (1 pad, 1 link)
            type Node subtype V4L flags 0
            device node name /dev/video11
	pad0: Sink
		<- "rkisp-isp-subdev":2 [ENABLED]

- entity 12: rkisp_selfpath (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video12
	pad0: Sink
		<- "rkisp-isp-subdev":2 [ENABLED]

- entity 18: rkisp_fbcpath (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video13
	pad0: Sink
		<- "rkisp-isp-subdev":2 [ENABLED]

- entity 24: rkisp_iqtool (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video14
	pad0: Sink
		<- "rkisp-isp-subdev":2 [ENABLED]

- entity 30: rkisp_rawrd0_m (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video15
	pad0: Source
		-> "rkisp-isp-subdev":0 []

- entity 36: rkisp_rawrd2_s (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video16
	pad0: Source
		-> "rkisp-isp-subdev":0 []

- entity 42: rkisp_rawrd1_l (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video17
	pad0: Source
		-> "rkisp-isp-subdev":0 []

- entity 48: rkisp-statistics (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video18
	pad0: Sink
		<- "rkisp-isp-subdev":3 [ENABLED]

- entity 54: rkisp-input-params (1 pad, 1 link)
             type Node subtype V4L flags 0
             device node name /dev/video19
	pad0: Source
		-> "rkisp-isp-subdev":1 [ENABLED]

- entity 60: rkcif-mipi-lvds2 (1 pad, 1 link, 0 routes)
             type V4L2 subdev subtype Unknown flags 0
             device node name /dev/v4l-subdev4
	pad0: Source
		[stream:0 fmt:SBGGR10_1X10/4224x3136@10000/300000 field:none]
		-> "rkisp-isp-subdev":0 [ENABLED]

ubuntu@ubuntu:~$ systemctl status rkaiq_3A.service -n 100
● rkaiq_3A.service - Enable Rockchip camera engine rkaiq
     Loaded: loaded (/usr/lib/systemd/system/rkaiq_3A.service; enabled; preset: enabled)
     Active: active (running) since Sun 2025-10-12 10:00:00 UTC; 5h 17min ago
    Process: 510 ExecStart=/etc/init.d/S40rkaiq_3A start (code=exited, status=0/SUCCESS)
   Main PID: 516 (sh)
      Tasks: 10 (limit: 19107)
     Memory: 10.6M (peak: 11.4M)
        CPU: 86ms
     CGroup: /system.slice/rkaiq_3A.service
             ├─516 /bin/sh -c "/usr/bin/rkaiq_3A_server 2>&1 | logger -t rkaiq_3A"
             ├─517 /usr/bin/rkaiq_3A_server
             └─518 logger -t rkaiq_3A

Oct 12 10:00:00 ubuntu rkaiq_3A[518]: media get entity by name: rkisp-isp-subdev is null
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: media get entity by name: rkisp-input-params is null
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: media get entity by name: rkisp-statistics is null
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: media get entity by name: rkisp_mainpath is null
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: Cound not find rkisp dev names, skipped /dev/media0
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media0
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: DBG: get rkisp-isp-subdev devname: /dev/v4l-subdev3
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: DBG: get rkisp-input-params devname: /dev/video19
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: DBG: get rkisp-statistics devname: /dev/video18
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: DBG: get rkisp_mainpath devname: /dev/video11
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: rkaiq log level ff1
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: XCORE:K:rk_aiq_init_lib, ISP HW ver: 30
Oct 12 10:00:00 ubuntu rkaiq_3A[518]:
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ************************** VERSION INFOS **************************
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: version release date: 2024-03-03
Oct 12 10:00:00 ubuntu rkaiq_3A[518]:          AIQ:       AIQ v6.0x6.1
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ************************ VERSION INFOS END ************************
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media2
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media3
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media4
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media5
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media6
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media7
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media8
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media9
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media10
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media11
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media12
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media13
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media14
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: ERR: Bad media topology for: /dev/media15
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: XCORE:E:invalid main scene len!
Oct 12 10:00:00 ubuntu rkaiq_3A[518]:
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: CAMHW:E:failed to set hflip (val: 0)
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: IPCSERVER:K:cid[0] Process path:/tmp/UNIX.domain0, sockfd:16
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: XCORE:K:cid[0] rk_aiq_uapi_sysctl_init success. iq:/etc/iqfiles//ov13855_CMK-OT2016-FV1_default.json
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: CAMHW:E:failed to set hdr mode 0
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: XCORE:K:cid[0] rk_aiq_uapi_sysctl_prepare success. mode:0
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: DBG: subscribe events from /dev/video19 success !
Oct 12 10:00:00 ubuntu rkaiq_3A[518]: DBG: /dev/media1: wait stream start event...
ubuntu@ubuntu:~$ ls /usr/lib | grep rkaiq
librkaiq.a
librkaiq.so
ubuntu@ubuntu:~$ ls /usr/bin | grep rkaiq
rkaiq_3A_server
rkaiq_tool_server
ubuntu@ubuntu:~$ rkaiq_3A_server
media get entity by name: rkisp-isp-subdev is null
media get entity by name: rkisp-input-params is null
media get entity by name: rkisp-statistics is null
media get entity by name: rkisp_mainpath is null
Cound not find rkisp dev names, skipped /dev/media0
ERR: Bad media topology for: /dev/media0
DBG: get rkisp-isp-subdev devname: /dev/v4l-subdev3
DBG: get rkisp-input-params devname: /dev/video19
DBG: get rkisp-statistics devname: /dev/video18
DBG: get rkisp_mainpath devname: /dev/video11
rkaiq log level ff1
XCORE:K:rk_aiq_init_lib, ISP HW ver: 30

************************** VERSION INFOS **************************
version release date: 2024-03-03
         AIQ:       AIQ v6.0x6.1
************************ VERSION INFOS END ************************
ERR: Bad media topology for: /dev/media2
ERR: Bad media topology for: /dev/media3
ERR: Bad media topology for: /dev/media4
ERR: Bad media topology for: /dev/media5
ERR: Bad media topology for: /dev/media6
ERR: Bad media topology for: /dev/media7
ERR: Bad media topology for: /dev/media8
ERR: Bad media topology for: /dev/media9
ERR: Bad media topology for: /dev/media10
ERR: Bad media topology for: /dev/media11
ERR: Bad media topology for: /dev/media12
ERR: Bad media topology for: /dev/media13
ERR: Bad media topology for: /dev/media14
ERR: Bad media topology for: /dev/media15
XCORE:E:invalid main scene len!

CAMHW:E:failed to set hflip (val: 0)
IPCSERVER:K:cid[0] Process path:/tmp/UNIX.domain0, sockfd:16
XCORE:K:cid[0] rk_aiq_uapi_sysctl_init success. iq:/etc/iqfiles//ov13855_CMK-OT2016-FV1_default.json
CAMHW:E:failed to set hdr mode 0
XCORE:E:device(/dev/video19) start failed
CAMHW:E:prepare isp params dev err: -9

CAMHW:E:Can not get isp params buffer, queued cnts:0

XCORE:K:cid[0] rk_aiq_uapi_sysctl_prepare success. mode:0
DBG: subscribe events from /dev/video19 success !
DBG: /dev/media1: wait stream start event...
^C
ubuntu@ubuntu:~$ ls -l /etc/iqfiles/ov13855_CMK-OT2016-FV1_default.json
-rw-r--r-- 1 root root 361855 Apr  8  2024 /etc/iqfiles/ov13855_CMK-OT2016-FV1_default.json
ubuntu@ubuntu:~$ dmesg | grep csi2
[    5.462954] platform mipi2-csi2: Fixed dependency cycle(s) with /csi2-dphy0/ports/port@1/endpoint@0
[    5.463133] platform rkcif-mipi-lvds2: Fixed dependency cycle(s) with /mipi2-csi2/ports/port@1/endpoint@0
[    6.131112] rockchip-csi2-dphy-hw fedc0000.csi2-dphy0-hw: csi2 dphy hw probe successfully!
[    6.131214] rockchip-csi2-dphy-hw fedc8000.csi2-dphy1-hw: csi2 dphy hw probe successfully!
[   23.341537] i2c 6-0010: Fixed dependency cycle(s) with /csi2-dphy0/ports/port@0/endpoint@0
[   23.343980] i2c 6-0036: Fixed dependency cycle(s) with /csi2-dphy0/ports/port@0/endpoint@1
[   23.345237] i2c 6-001a: Fixed dependency cycle(s) with /csi2-dphy0/ports/port@0/endpoint@2
[   23.384977] rockchip-mipi-csi2-hw fdd10000.mipi0-csi2-hw: enter mipi csi2 hw probe!
[   23.386204] rockchip-mipi-csi2-hw fdd10000.mipi0-csi2-hw: probe success, v4l2_dev:mipi0-csi2-hw!
[   23.387330] rockchip-mipi-csi2-hw fdd20000.mipi1-csi2-hw: enter mipi csi2 hw probe!
[   23.388510] rockchip-mipi-csi2-hw fdd20000.mipi1-csi2-hw: probe success, v4l2_dev:mipi1-csi2-hw!
[   23.389625] rockchip-mipi-csi2-hw fdd30000.mipi2-csi2-hw: enter mipi csi2 hw probe!
[   23.390791] rockchip-mipi-csi2-hw fdd30000.mipi2-csi2-hw: probe success, v4l2_dev:mipi2-csi2-hw!
[   23.391924] rockchip-mipi-csi2-hw fdd40000.mipi3-csi2-hw: enter mipi csi2 hw probe!
[   23.393088] rockchip-mipi-csi2-hw fdd40000.mipi3-csi2-hw: probe success, v4l2_dev:mipi3-csi2-hw!
[   23.394192] rockchip-mipi-csi2-hw fdd50000.mipi4-csi2-hw: enter mipi csi2 hw probe!
[   23.395368] rockchip-mipi-csi2-hw fdd50000.mipi4-csi2-hw: probe success, v4l2_dev:mipi4-csi2-hw!
[   23.396470] rockchip-mipi-csi2-hw fdd60000.mipi5-csi2-hw: enter mipi csi2 hw probe!
[   23.397614] rockchip-mipi-csi2-hw fdd60000.mipi5-csi2-hw: probe success, v4l2_dev:mipi5-csi2-hw!
[   23.399242] rockchip-mipi-csi2 mipi2-csi2: attach to csi2 hw node
[   23.400332] rkcif rkcif-mipi-lvds2: Entity type for entity rockchip-mipi-csi2 was not initialized!
[   23.401419] rockchip-mipi-csi2: Async registered subdev
[   23.402507] rockchip-mipi-csi2: probe success, v4l2_dev:rkcif-mipi-lvds2!
[   23.764284] rockchip-csi2-dphy csi2-dphy0: dphy0 matches m00_b_ov13855 6-0036:bus type 5
[   23.765799] rockchip-csi2-dphy csi2-dphy0: csi2 dphy0 probe successfully!
ubuntu@ubuntu:~$